<!DOCTYPE html>
<html>
    <head>
        <title>tanks_off</title>
        <style>
            .players_choose_button {
                width: 100%;
                height: 225px;
                display: block
            }
            .field {
                position: relative;
                width:  950px;
                height: 630px;
                background-color: #00ffff;
                margin: 30px;
                display: none;
                border-color: blueviolet;
            }
            .player {
                position: absolute;
                width: 25px;
                height: 35px;
                display: none;
            }
        </style>
    </head>
    <body>

        <div>
            <input id="players_choose_button_2" class="players_choose_button" type="button" value="2 players" style="background-color:greenyellow" onclick="start_game(2);" >
            <input id="players_choose_button_3" class="players_choose_button" type="button" value="3 players" style="background-color:yellow"      onclick="start_game(3);" >
            <input id="players_choose_button_4" class="players_choose_button" type="button" value="4 players" style="background-color:red"         onclick="start_game(4);" >
        </div>
        <div id="field" class="field">


            <div id="player1" class="player">
            </div>

            <div id="player2" class="player">
            </div>

            <div id="player3" class="player">
            </div>

            <div id="player4" class="player">
            </div>


        </div>
        <script>
            function start_game(players) {
                document.getElementById("field").style = "display: block";
                document.getElementById("players_choose_button_2").style = "display: none";
                document.getElementById("players_choose_button_3").style = "display: none";
                document.getElementById("players_choose_button_4").style = "display: none";
                if (players === 2) {
                    console.log("игра началась с " + 2 + " игроками");
                    document.getElementById("player1").style = 'display: block; background:url("tanks_off/1.png"); right: 0px';
                    document.getElementById("player2").style = 'display: block; background:url("tanks_off/2.png"); bottom: 0px';
                }
                if (players === 3) {
                    console.log("игра началась с " + 3 + " игроками");
                    document.getElementById("player1").style = 'display: block; background:url("tanks_off/1.png"); right: 0px';
                    document.getElementById("player2").style = 'display: block; background:url("tanks_off/2.png"); bottom: 0px';
                    document.getElementById("player3").style = 'display: block; background:url("tanks_off/3.png")';
                }
                if (players === 4) {
                    console.log("игра началась с " + 4 + " игроками");
                    document.getElementById("player1").style = 'display: block; background:url("tanks_off/1.png"); left: 925px;';
                    document.getElementById("player2").style = 'display: block; background:url("tanks_off/2.png"); bottom: 0px';
                    document.getElementById("player3").style = 'display: block; background:url("tanks_off/3.png")';
                    document.getElementById("player4").style = 'display: block; background:url("tanks_off/4.png"); right: 0px; bottom: 0px';
                }
            }

            document.onkeydown = function (event) {
console.log('key pressed');
                var step = 10;
                var posLeft = document.getElementById('player1').offsetLeft;
                var posTop = document.getElementById('player1').offsetTop;
console.log(posLeft);
console.log(posTop);
                //alert(posLeft + ' ' + posTop);

                switch (event.keyCode) {
                    case 37:
                        //alert('Left key pressed');
                        if (posLeft <= 0) {
                            return true;
                        }
console.log(posLeft - step);
                        document.getElementById('player1').style.left = (posLeft - step) + "px";
console.log(document.getElementById('player1').offsetLeft);
console.log(document.getElementById('player1').style.left);
//                        document.getElementById('player1').style.right = 'auto';
                        break;
                    case 38:
                        //alert('Up key pressed');
                        if (posTop <= 0) {
                            return true;
                        }
                        document.getElementById('player1').style.top = (posTop - step) + "px";
                        break;
                    case 39:
                        //alert('Right key pressed');
                        if (posLeft >= 925) {
                            return true;
                        }
                        document.getElementById('player1').style.left = (posLeft + step) + "px";
                        break;
                    case 40:
                        //alert('Down key pressed');
                        if (posTop >= 795) {
                            return true;
                        }
                        document.getElementById('player1').style.top = (posTop + step) + "px";
                        break;
                }
            };

/*
            document.onkeydown = function (event) {
                var step = 10;
                var posLeft = document.getElementById('player2').offsetLeft;
                var posTop = document.getElementById('player2').offsetTop;
                //alert(posLeft + ' ' + posTop);

                switch (event.keyCode) {
                    case 37:
                        //alert('Left key pressed');
                        if (posLeft <= 0) {
                            return true;
                        }
                        document.getElementById('player2').style.left = posLeft - step;
                        break;
                    case 38:
                        //alert('Up key pressed');
                        if (posTop <= 0) {
                            return true;
                        }
                        document.getElementById('player2').style.top = posTop - step;
                        break;
                    case 39:
                        //alert('Right key pressed');
                        if (posLeft >= 925) {
                            return true;
                        }
                        document.getElementById('player2').style.left = posLeft + step;
                        break;
                    case 40:
                        //alert('Down key pressed');
                        if (posTop >= 795) {
                            return true;
                        }
                        document.getElementById('player2').style.top = posTop + step;
                        break;
                }
            };



            document.onkeydown = function (event) {
                var step = 10;
                var posLeft = document.getElementById('player3').offsetLeft;
                var posTop = document.getElementById('player3').offsetTop;
                //alert(posLeft + ' ' + posTop);

                switch (event.keyCode) {
                    case 37:
                        //alert('Left key pressed');
                        if (posLeft <= 0) {
                            return true;
                        }
                        document.getElementById('player3').style.left = posLeft - step;
                        break;
                    case 38:
                        //alert('Up key pressed');
                        if (posTop <= 0) {
                            return true;
                        }
                        document.getElementById('player3').style.top = posTop - step;
                        break;
                    case 39:
                        //alert('Right key pressed');
                        if (posLeft >= 925) {
                            return true;
                        }
                        document.getElementById('player3').style.left = posLeft + step;
                        break;
                    case 40:
                        //alert('Down key pressed');
                        if (posTop >= 795) {
                            return true;
                        }
                        document.getElementById('player3').style.top = posTop + step;
                        break;
                }
            };



            document.onkeydown = function (event) {
                var step = 10;
                var posLeft = document.getElementById('player4').offsetLeft;
                var posTop = document.getElementById('player4').offsetTop;
                //alert(posLeft + ' ' + posTop);

                switch (event.keyCode) {
                    case 37:
                        //alert('Left key pressed');
                        if (posLeft <= 0) {
                            return true;
                        }
                        document.getElementById('player4').style.left = posLeft - step;
                        break;
                    case 38:
                        //alert('Up key pressed');
                        if (posTop <= 0) {
                            return true;
                        }
                        document.getElementById('player4').style.top = posTop - step;
                        break;
                    case 39:
                        //alert('Right key pressed');
                        if (posLeft >= 925) {
                            return true;
                        }
                        document.getElementById('player4').style.left = posLeft + step;
                        break;
                    case 40:
                        //alert('Down key pressed');
                        if (posTop >= 795) {
                            return true;
                        }
                        document.getElementById('player4').style.top = posTop + step;
                        break;
                }
            };
*/

        </script>

    </body>
</html>